<!DOCTYPE html>
<!--https://softdev.ppls.ed.ac.uk/online_experiments/02_first.html-->
<html lang="en">
<head>
    <title>My experiment</title>
    <!--加载插件-->
    <script src="jspsych-8.2.1/jspsych.js"></script>
    <script src="jspsych-8.2.1/plugin-html-keyboard-response.js"></script>
    <script src="jspsych-8.2.1/plugin-image-keyboard-response.js"></script>
    <link href="jspsych-8.2.1/jspsych.css"
              rel="stylesheet" type="text/css" />

</head>

<body>
</body>

<script>
    const jsPsych = initJsPsych();
    /*每个 jsPsych 实验都是一系列节点。大多数节点显示一个刺激或一组刺激，然后收集响应*/
    /*下面这个刺激呈现也是一个节点*/
    let hello_trial = {
        /*声明一个使用 html-keyboard-response 插件的试验，我们需要创建一个对象，
        并将类型属性设置为 jsPsychHtmlKeyboardResponse。我们可以在同一个对象中指定插件的其他参数。
        这里我们使用 stimulus 参数来包含一条消息。你可以在其文档页面上查看每个插件的完整参数列表。*/
        type: jsPsychHtmlKeyboardResponse,
        stimulus: "<p>Hello world!<br>" +
            "This is my first \"experiment\" with jsPsych.<br><br>" +
            "Press &lt;space&gt; to continue." +
            "</p>",
        choices: [' ']
    }
    /*现在我们已经定义了试验，需要告诉 jsPsych 运行一个由该试验组成的实验。
    这需要使用 jsPsych.run 函数，并传入一个时间线。对于这样一个简单的实验，时间线只是一个包含要运行的试验列表的数组。*/

    let show_pic = {
        type: jsPsychImageKeyboardResponse,
        stimulus: 'material/fig/nasa_proxima.png',
        prompt: "<p>Do you know this picture? <br>" +
            "Press 'f' for know and 'j' for unknown</p>",
        choices: ['f', 'j'],
    }

    let end_trial = {
        type: jsPsychHtmlKeyboardResponse,
        stimulus: "Thanks for your participation!",
        choices: "NO_KEYS",
        trial_duration: 2000, //持续时间为2000毫秒
    }

    jsPsych.run([hello_trial, show_pic, end_trial]);

</script>

</html>